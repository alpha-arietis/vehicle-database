{"ast":null,"code":"const router = require('express').Router();\n\nlet Vehicle = require('../models/vehicle.model');\n\nrouter.route('/').get((req, res) => {\n  Vehicle.find().then(vehicles => res.json(vehicles)).catch(err => res.status(400).json('Error: ' + err));\n});\nrouter.route('/add').post((req, res) => {\n  const make = req.body.make;\n  const model = req.body.model;\n  const year = Number(req.body.year);\n  const numberPlate = req.body.numberPlate.toUpperCase();\n  const staff = req.body.staff;\n  const ownedOrLeased = req.body.ownedOrLeased;\n  const cost = Number(req.body.cost);\n  const leaseExp = Date.parse(req.body.leaseExp);\n  const regoDue = Date.parse(req.body.regoDue);\n  const warrantDue = Date.parse(req.body.warrantDue);\n  const odometer = Number(req.body.odometer);\n  const odometerDate = Date.parse(req.body.odometerDate);\n  const newVehicle = new Vehicle({\n    make,\n    model,\n    year,\n    numberPlate,\n    staff,\n    ownedOrLeased,\n    cost,\n    leaseExp,\n    regoDue,\n    warrantDue,\n    odometer,\n    odometerDate\n  });\n  newVehicle.save().then(() => res.json('Vehicle added!')).catch(err => res.status(400).json('Error: ' + err));\n});\nrouter.route('/:id').get((req, res) => {\n  Vehicle.findById(req.params.id).then(vehicle => res.json(vehicle)) // see if this works with just RES instead of VEHICLE\n  .catch(err => res.status(400).json('Error: ' + err));\n});\nrouter.route('/:id').delete((req, res) => {\n  Vehicle.findByIdAndDelete(req.params.id).then(() => res.json('Vehicle deleted!')).catch(err => res.status(400).json('Error: ' + err));\n});\nrouter.route('/update/:id').post((req, res) => {\n  Vehicle.findById(req.params.id).then(vehicle => {\n    vehicle.make = req.body.make;\n    vehicle.model = req.body.model;\n    vehicle.year = Number(req.body.year);\n    vehicle.numberPlate = req.body.numberPlate.toUpperCase();\n    vehicle.staff = req.body.staff;\n    vehicle.ownedOrLeased = req.body.ownedOrLeased;\n    vehicle.cost = Number(req.body.cost);\n    vehicle.leaseExp = Date.parse(req.body.leaseExp);\n    vehicle.regoDue = Date.parse(req.body.regoDue);\n    vehicle.warrantDue = Date.parse(req.body.warrantDue);\n    vehicle.odometer = Number(req.body.odometer);\n    vehicle.odometerDate = Date.parse(req.body.odometerDate);\n    vehicle.save().then(() => res.json('Vehicle updated!')).catch(err => res.status(400).json('Error: ' + err));\n  }).catch(err => res.status(400).json('Error: ' + err));\n});\nmodule.exports = router;","map":{"version":3,"sources":["/Users/ivoalexandroff/Desktop/Coding/Projects/VehicleTracker/vehicle-tracker/src/backend/routes/vehicles.js"],"names":["router","require","Router","Vehicle","route","get","req","res","find","then","vehicles","json","catch","err","status","post","make","body","model","year","Number","numberPlate","toUpperCase","staff","ownedOrLeased","cost","leaseExp","Date","parse","regoDue","warrantDue","odometer","odometerDate","newVehicle","save","findById","params","id","vehicle","delete","findByIdAndDelete","module","exports"],"mappings":"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","sourcesContent":["const router = require('express').Router()\nlet Vehicle = require('../models/vehicle.model')\n\nrouter.route('/').get((req, res) => {\n    Vehicle.find()\n    .then(vehicles => res.json(vehicles))\n    .catch(err => res.status(400).json('Error: ' + err))\n})\n\nrouter.route('/add').post((req, res) => {\n    const make = req.body.make\n    const model = req.body.model\n    const year = Number(req.body.year)\n    const numberPlate = req.body.numberPlate.toUpperCase()\n    const staff = req.body.staff\n    const ownedOrLeased = req.body.ownedOrLeased\n    const cost = Number(req.body.cost)\n    const leaseExp = Date.parse(req.body.leaseExp)\n    const regoDue = Date.parse(req.body.regoDue)\n    const warrantDue = Date.parse(req.body.warrantDue)\n    const odometer = Number(req.body.odometer)\n    const odometerDate = Date.parse(req.body.odometerDate)\n\n    const newVehicle = new Vehicle({\n        make,\n        model,\n        year,\n        numberPlate,\n        staff,\n        ownedOrLeased,\n        cost,\n        leaseExp,\n        regoDue,\n        warrantDue,\n        odometer,\n        odometerDate\n    })\n\n    newVehicle.save()\n    .then(() => res.json('Vehicle added!'))\n    .catch(err => res.status(400).json('Error: ' + err))\n})\n\nrouter.route('/:id').get((req, res) => {\n    Vehicle.findById(req.params.id)\n    .then(vehicle => res.json(vehicle)) // see if this works with just RES instead of VEHICLE\n    .catch(err => res.status(400).json('Error: ' + err))\n})\n\nrouter.route('/:id').delete((req, res) => {\n    Vehicle.findByIdAndDelete(req.params.id)\n    .then(() => res.json('Vehicle deleted!'))\n    .catch(err => res.status(400).json('Error: ' + err))\n})\n\nrouter.route('/update/:id').post((req, res) => {\n    Vehicle.findById(req.params.id)\n    .then(vehicle => {\n        vehicle.make = req.body.make\n        vehicle.model = req.body.model\n        vehicle.year = Number(req.body.year)\n        vehicle.numberPlate = req.body.numberPlate.toUpperCase()\n        vehicle.staff = req.body.staff\n        vehicle.ownedOrLeased = req.body.ownedOrLeased\n        vehicle.cost = Number(req.body.cost)\n        vehicle.leaseExp = Date.parse(req.body.leaseExp)\n        vehicle.regoDue = Date.parse(req.body.regoDue)\n        vehicle.warrantDue = Date.parse(req.body.warrantDue)\n        vehicle.odometer = Number(req.body.odometer)\n        vehicle.odometerDate = Date.parse(req.body.odometerDate)\n\n        vehicle.save()\n        .then(() => res.json('Vehicle updated!'))\n        .catch(err => res.status(400).json('Error: ' + err))\n    })\n    .catch(err => res.status(400).json('Error: ' + err))\n})\n\nmodule.exports = router"]},"metadata":{},"sourceType":"module"}